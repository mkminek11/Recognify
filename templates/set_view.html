{% extends "base.html" %}

{% block content %}
    <div x-data="container">
        <h1>{{ set.name }}</h1>
        <p>Description: {{ set.description }}</p>
        <p>Created at: {{ set.created_at }}</p>
        <a href="/set/{{ set.id }}/play">Play</a>
        <a href="/draft/{{ set.draft_id }}">Edit</a>

        <div>
            <template x-for="image in images" :key="image.id">
                <div style="margin-bottom: 20px;">
                    <p x-text="image.label"></p>
                    <img :src="`/api/set/{{ set.id }}/image/${image.id}`" height="200">
                </div>
            </template>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('container', () => ({
                images: JSON.parse('{{ set.images|tojson }}'),
            }));
        });
    </script>
{% endblock %}